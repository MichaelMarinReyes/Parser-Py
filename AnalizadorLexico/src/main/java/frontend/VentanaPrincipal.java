package frontend;

import backend.analizador.controlador.LeerArchivoTexto;
import java.awt.Component;
import java.awt.Graphics;
import java.awt.Image;
import javax.swing.ImageIcon;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

/**
 *
 * @author michael
 */
public class VentanaPrincipal extends javax.swing.JFrame {

    EditorPanel editor = new EditorPanel();

    /**
     * Creates new form VentanaPrincipal
     */
    public VentanaPrincipal() {
        this.setTitle("PARSER-PY");
        initComponents();
        this.pintarPanel(editor);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        contenedorPanel = new javax.swing.JPanel();
        menuOpciones = new javax.swing.JMenuBar();
        jMenu1 = new javax.swing.JMenu();
        abrirBoton = new javax.swing.JMenuItem();
        guardarArchivo = new javax.swing.JMenuItem();
        editorTexto = new javax.swing.JMenu();
        graficoBoton = new javax.swing.JMenu();
        reportesBoton = new javax.swing.JMenu();
        ayudaBoton = new javax.swing.JMenu();
        acerdaDeBoton = new javax.swing.JMenu();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setMinimumSize(new java.awt.Dimension(900, 700));

        contenedorPanel.setBackground(new java.awt.Color(255, 153, 153));
        contenedorPanel.setLayout(new java.awt.BorderLayout());
        getContentPane().add(contenedorPanel, java.awt.BorderLayout.CENTER);

        menuOpciones.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        menuOpciones.setForeground(new java.awt.Color(153, 153, 153));

        jMenu1.setText("Archivo");

        abrirBoton.setText("Abrir archivo");
        abrirBoton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                abrirBotonActionPerformed(evt);
            }
        });
        jMenu1.add(abrirBoton);

        guardarArchivo.setText("Guardar como");
        jMenu1.add(guardarArchivo);

        menuOpciones.add(jMenu1);

        editorTexto.setText("Editor");
        editorTexto.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                editorTextoMouseClicked(evt);
            }
        });
        menuOpciones.add(editorTexto);

        graficoBoton.setText("Generar gr√°fico");
        graficoBoton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                graficoBotonMouseClicked(evt);
            }
        });
        menuOpciones.add(graficoBoton);

        reportesBoton.setText("Reportes");
        reportesBoton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                reportesBotonMouseClicked(evt);
            }
        });
        menuOpciones.add(reportesBoton);

        ayudaBoton.setText("Ayuda");
        menuOpciones.add(ayudaBoton);

        acerdaDeBoton.setText("Acerca de");
        menuOpciones.add(acerdaDeBoton);

        setJMenuBar(menuOpciones);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void abrirBotonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_abrirBotonActionPerformed
        LeerArchivoTexto miArchivo = new LeerArchivoTexto();
        JFileChooser chooser = new JFileChooser();
        /*FileNameExtensionFilter filtro = new FileNameExtensionFilter("*.CSV", "csv");
        chooser.setFileFilter(filtro);*/
        int seleccion = chooser.showOpenDialog(this);

        if (seleccion == JFileChooser.APPROVE_OPTION) {
            String textoLeido;
            textoLeido = miArchivo.abrirArchivo(chooser.getSelectedFile().getAbsolutePath());
            editor.setAreaEditor(textoLeido);
            JOptionPane.showMessageDialog(this, "Archivo cargado");
        }


    }//GEN-LAST:event_abrirBotonActionPerformed

    private void graficoBotonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_graficoBotonMouseClicked
        GenerarGrafico grafico = new GenerarGrafico();
        pintarPanel(grafico);
    }//GEN-LAST:event_graficoBotonMouseClicked

    private void editorTextoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_editorTextoMouseClicked
        this.pintarPanel(editor);
    }//GEN-LAST:event_editorTextoMouseClicked

    private void reportesBotonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_reportesBotonMouseClicked
        ReportesPanel reportes = new ReportesPanel();
        pintarPanel(reportes);
    }//GEN-LAST:event_reportesBotonMouseClicked


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JMenuItem abrirBoton;
    private javax.swing.JMenu acerdaDeBoton;
    private javax.swing.JMenu ayudaBoton;
    private javax.swing.JPanel contenedorPanel;
    private javax.swing.JMenu editorTexto;
    private javax.swing.JMenu graficoBoton;
    private javax.swing.JMenuItem guardarArchivo;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenuBar menuOpciones;
    private javax.swing.JMenu reportesBoton;
    // End of variables declaration//GEN-END:variables

    public void pintarPanel(Component panel) {
        contenedorPanel.removeAll();
        contenedorPanel.add(panel);
        contenedorPanel.repaint();
        contenedorPanel.revalidate();
    }
}
